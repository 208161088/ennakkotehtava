{"version":3,"sources":["no_image_available.webp","star_wars_header.webp","image_not_found.webp","components/Film.js","App.js","index.js"],"names":["module","exports","Film","classname","displayedFilms","imageLoad","imageLoadError","className","map","film","key","imdbID","src","Poster","no_image_available","onLoad","onError","e","alt","Title","Year","App","props","nextPage","setState","page","state","pageChangedNext","films","imagesFailedToLoadReplacer","previousPage","sortTitle","sortedFilms","titleSortOrder","sort","a","b","toLowerCase","yearSortOrder","sortYear","displayedFilmsFunc","slice","filmListsFunc","displayedFilmsNext","displayedFilmsPrev","onAnimationEnd","initioalLoadDone","window","innerWidth","imagesNeededToLoad","imagesFailedToLoad","forEach","id","index","indexOf","image_not_found","imagesLoaded","target","onerror","push","axios","get","then","response","data","this","length","header","onClick","Component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2834e894.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/no_image_available.a5e94c7f.webp\";","module.exports = __webpack_public_path__ + \"static/media/star_wars_header.ee797453.webp\";","module.exports = __webpack_public_path__ + \"static/media/image_not_found.40ff87b1.webp\";","import React from 'react'\r\nimport no_image_available from '../no_image_available.webp'\r\n\r\n\r\nconst Film = ({classname, displayedFilms, imageLoad = ()=>null, imageLoadError }) => {\r\n  return(\r\n    <ul className={classname}>\r\n      {displayedFilms.map(film => \r\n        <li className='film' key={film.imdbID}>\r\n          <img\r\n          src={film.Poster==='N/A' ? no_image_available : film.Poster}\r\n          onLoad={() => imageLoad()}\r\n          onError={(e) => imageLoadError(e, film.imdbID)}\r\n          alt={film.Title}\r\n          />\r\n          <div className='film-year'>{film.Year}</div>\r\n          <div className='film-title'>{film.Title}</div>\r\n        </li>\r\n      )}\r\n    </ul>\r\n  )\r\n}\r\nexport default Film","import React, { Component } from 'react'\r\nimport './index.css'\r\nimport axios from 'axios'\r\nimport Film from './components/Film'\r\nimport header from './star_wars_header.webp'\r\nimport image_not_found from './image_not_found.webp'\r\n\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      films: [],\r\n      page: 1,\r\n      titleSortOrder: null,\r\n      yearSortOrder: null,\r\n      pageChangedNext: null,\r\n      initioalLoadDone: false\r\n    }\r\n\r\n    this.imagesNeededToLoad = 0\r\n    this.imagesLoaded = 0\r\n    this.imagesFailedToLoad = []\r\n  }\r\n\r\n  componentDidMount() {\r\n    axios.get('https://frantic.s3-eu-west-1.amazonaws.com/films.json').then(response =>{\r\n      const films = response.data.films\r\n      this.setState({\r\n        films\r\n      })\r\n    })\r\n    \r\n  }\r\n\r\n  nextPage = () => {\r\n    this.setState({\r\n      page: this.state.page+1,\r\n      pageChangedNext: true,\r\n      films: this.imagesFailedToLoadReplacer()\r\n    })\r\n  }\r\n  previousPage = () => {\r\n    this.setState({\r\n      page: this.state.page-1,\r\n      pageChangedNext: false\r\n    })\r\n  }\r\n\r\n  sortTitle = () => {\r\n    const sortedFilms = this.state.films\r\n    if (this.state.titleSortOrder){\r\n      sortedFilms.sort((a, b) => a.Title.toLowerCase() > b.Title.toLowerCase() ? 1 : -1)\r\n    }else{\r\n      sortedFilms.sort((a, b) => a.Title.toLowerCase() < b.Title.toLowerCase() ? 1 : -1)\r\n    }\r\n    this.setState({\r\n      films: sortedFilms,\r\n      titleSortOrder: !this.state.titleSortOrder,\r\n      yearSortOrder: null,\r\n    })\r\n  }\r\n  sortYear = () => {\r\n    const sortedFilms = this.state.films\r\n    if (this.state.yearSortOrder){\r\n      sortedFilms.sort((a, b) => a.Year - b.Year)\r\n    }else{\r\n      sortedFilms.sort((a, b) => b.Year - a.Year)\r\n    }\r\n    this.setState({\r\n      films: sortedFilms,\r\n      yearSortOrder: !this.state.yearSortOrder,\r\n      titleSortOrder: null,\r\n    })\r\n  }\r\n\r\n\r\ndisplayedFilmsFunc = (a) => {\r\n  const filmsPerPage = 8\r\n  return this.state.films.slice((this.state.page+a)*filmsPerPage,(this.state.page+a)*filmsPerPage+filmsPerPage)\r\n}\r\n\r\n  filmListsFunc = () => {\r\n    const displayedFilms = this.displayedFilmsFunc(-1)\r\n    const displayedFilmsNext = this.displayedFilmsFunc(0)\r\n    const displayedFilmsPrev = this.displayedFilmsFunc(-2)\r\n    if (this.state.pageChangedNext === true) {\r\n      return (\r\n        <div className='film-lists next-animation' onAnimationEnd={() => this.setState({pageChangedNext: null})}>\r\n          <Film classname='film-list' displayedFilms={displayedFilmsPrev} imageLoadError={this.imageLoadError}/>\r\n          <Film classname='film-list' displayedFilms={displayedFilms} imageLoadError={this.imageLoadError}/>\r\n        </div>\r\n      )\r\n    }else if (this.state.pageChangedNext === false) {\r\n      return (\r\n        <div className='film-lists prev-animation' onAnimationEnd={() => this.setState({pageChangedNext: null})}>\r\n          <Film classname='film-list' displayedFilms={displayedFilms} imageLoadError={this.imageLoadError}/>\r\n          <Film classname='film-list' displayedFilms={displayedFilmsNext} imageLoadError={this.imageLoadError}/>\r\n        </div>\r\n      )\r\n    }else if (this.state.initioalLoadDone === true) {\r\n      return (\r\n        <div className='film-lists'>\r\n          <Film classname='film-list hidden' displayedFilms={displayedFilmsPrev} imageLoadError={this.imageLoadError}/>\r\n          <Film classname='film-list' displayedFilms={displayedFilms} imageLoadError={this.imageLoadError}/>\r\n          <Film classname='film-list hidden' displayedFilms={displayedFilmsNext} imageLoadError={this.imageLoadError}/>\r\n        </div>\r\n      )\r\n    }else if (window.innerWidth <= 768) {\r\n      this.imagesNeededToLoad = 1\r\n      return(\r\n        <div className='film-lists'>\r\n          <Film classname='film-list' displayedFilms={displayedFilms.slice(0,1)} imageLoad={this.imageLoad} imageLoadError={this.imageLoadError}/>\r\n        </div>\r\n        )\r\n    }else{\r\n      this.imagesNeededToLoad = 4\r\n      return(\r\n        <div className='film-lists'>\r\n          <Film classname='film-list' displayedFilms={displayedFilms} imageLoad={this.imageLoad} imageLoadError={this.imageLoadError}/>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n    \r\n  \r\n  imagesFailedToLoadReplacer = () => {\r\n    const films = this.state.films\r\n    this.imagesFailedToLoad.forEach(id => {\r\n      const index = films.map(film => film.imdbID).indexOf(id);\r\n      films[index]= {...films[index],Poster: image_not_found}\r\n    })\r\n    this.imagesFailedToLoad=[]\r\n    return films\r\n  }\r\n\r\n  imageLoad = () => {\r\n    this.imagesLoaded += 1\r\n    if (this.imagesLoaded >= this.imagesNeededToLoad) {\r\n      this.setState({initioalLoadDone: true, films: this.imagesFailedToLoadReplacer()})\r\n    }\r\n  }\r\n  \r\n  \r\n  imageLoadError = (e, id) => {\r\n    e.target.onerror = null\r\n    e.target.src = image_not_found\r\n    this.imagesFailedToLoad.push(id)\r\n    }\r\n\r\n  render() {\r\n    if (this.state.films.length > 0){\r\n      return (\r\n        <div className='main'>\r\n          <img\r\n          className='headline-image'\r\n          src={header}\r\n          alt={'header'}\r\n          />\r\n          <div className='main2'>\r\n            <ul className='sort-menu'>\r\n              <li className=\"sort-menu-title\">SORT:</li>\r\n              <li><button className={this.state.titleSortOrder === null ? 'sort-button gray':'sort-button'} onClick={() => this.sortTitle()}>\r\n              <div className={this.state.titleSortOrder ? '' : 'arrow-up'}/>\r\n              <div className={this.state.titleSortOrder === true || this.state.titleSortOrder === null ? 'arrow-down' : ''}/>\r\n              TITLE\r\n              </button></li>\r\n              <li><button className={this.state.yearSortOrder === null ? 'sort-button gray':'sort-button'} onClick={() => this.sortYear()}>\r\n              <div className={this.state.yearSortOrder ? '' : 'arrow-up'}/>\r\n              <div className={this.state.yearSortOrder === true || this.state.yearSortOrder === null? 'arrow-down' : ''}/>\r\n              YEAR\r\n              </button></li>\r\n            </ul>\r\n            {this.filmListsFunc()}\r\n\r\n            <div className = 'bottom-menu'>\r\n              <button\r\n              className={this.state.page === 1 ? 'previous-page hidden' : 'previous-page'}\r\n              onClick={() => this.previousPage()}>\r\n              <div className=\"arrow-left\"/> Previous page\r\n              </button>\r\n              <div className='page-number'>{this.state.page}</div>\r\n              <button\r\n              className={this.state.page === 13 ? 'next-page hidden' : 'next-page'}\r\n              onClick={() => this.nextPage()}>\r\n              Next page <div className=\"arrow-right\"/>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )\r\n    }else{\r\n      return null\r\n    }\r\n  }\r\n}\r\nexport default App;\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}