(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,a,t){e.exports=t.p+"static/media/no_image_available.a5e94c7f.webp"},16:function(e,a,t){e.exports=t.p+"static/media/star_wars_header.ee797453.webp"},20:function(e,a,t){e.exports=t(47)},26:function(e,a,t){},3:function(e,a,t){e.exports=t.p+"static/media/image_not_found.40ff87b1.webp"},47:function(e,a,t){"use strict";t.r(a);var r=t(0),i=t.n(r),n=t(10),s=t.n(n),l=t(18),o=t(11),m=t(12),d=t(17),c=t(13),u=t(19),g=(t(26),t(14)),f=t.n(g),p=t(15),E=t.n(p),L=function(e){var a=e.classname,t=e.displayedFilms,r=e.imageLoad,n=void 0===r?function(){return null}:r,s=e.imageLoadError;return i.a.createElement("ul",{className:a},t.map(function(e){return i.a.createElement("li",{className:"film",key:e.imdbID},i.a.createElement("img",{src:"N/A"===e.Poster?E.a:e.Poster,onLoad:function(){return n()},onError:function(a){return s(a,e.imdbID)},alt:e.Title}),i.a.createElement("div",{className:"film-year"},e.Year),i.a.createElement("div",{className:"film-title"},e.Title))}))},h=t(16),N=t.n(h),v=t(3),y=t.n(v),F=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(d.a)(this,Object(c.a)(a).call(this,e))).nextPage=function(){t.setState({page:t.state.page+1,pageChangedNext:!0,films:t.imagesFailedToLoadReplacer()})},t.previousPage=function(){t.setState({page:t.state.page-1,pageChangedNext:!1})},t.sortTitle=function(){var e=t.state.films;t.state.titleSortOrder?e.sort(function(e,a){return e.Title.toLowerCase()>a.Title.toLowerCase()?1:-1}):e.sort(function(e,a){return e.Title.toLowerCase()<a.Title.toLowerCase()?1:-1}),t.setState({films:e,titleSortOrder:!t.state.titleSortOrder,yearSortOrder:null})},t.sortYear=function(){var e=t.state.films;t.state.yearSortOrder?e.sort(function(e,a){return e.Year-a.Year}):e.sort(function(e,a){return a.Year-e.Year}),t.setState({films:e,yearSortOrder:!t.state.yearSortOrder,titleSortOrder:null})},t.displayedFilmsFunc=function(e){return t.state.films.slice(8*(t.state.page+e),8*(t.state.page+e)+8)},t.filmListsFunc=function(){var e=t.displayedFilmsFunc(-1),a=t.displayedFilmsFunc(0),r=t.displayedFilmsFunc(-2);return!0===t.state.pageChangedNext?i.a.createElement("div",{className:"film-lists next-animation",onAnimationEnd:function(){return t.setState({pageChangedNext:null})}},i.a.createElement(L,{classname:"film-list",displayedFilms:r,imageLoadError:t.imageLoadError}),i.a.createElement(L,{classname:"film-list",displayedFilms:e,imageLoadError:t.imageLoadError})):!1===t.state.pageChangedNext?i.a.createElement("div",{className:"film-lists prev-animation",onAnimationEnd:function(){return t.setState({pageChangedNext:null})}},i.a.createElement(L,{classname:"film-list",displayedFilms:e,imageLoadError:t.imageLoadError}),i.a.createElement(L,{classname:"film-list",displayedFilms:a,imageLoadError:t.imageLoadError})):!0===t.state.initioalLoadDone?i.a.createElement("div",{className:"film-lists"},i.a.createElement(L,{classname:"film-list hidden",displayedFilms:r,imageLoadError:t.imageLoadError}),i.a.createElement(L,{classname:"film-list",displayedFilms:e,imageLoadError:t.imageLoadError}),i.a.createElement(L,{classname:"film-list hidden",displayedFilms:a,imageLoadError:t.imageLoadError})):window.innerWidth<=768?(t.imagesNeededToLoad=1,i.a.createElement("div",{className:"film-lists"},i.a.createElement(L,{classname:"film-list",displayedFilms:e.slice(0,1),imageLoad:t.imageLoad,imageLoadError:t.imageLoadError}))):(t.imagesNeededToLoad=4,i.a.createElement("div",{className:"film-lists"},i.a.createElement(L,{classname:"film-list",displayedFilms:e,imageLoad:t.imageLoad,imageLoadError:t.imageLoadError})))},t.imagesFailedToLoadReplacer=function(){var e=t.state.films;return t.imagesFailedToLoad.forEach(function(a){var t=e.map(function(e){return e.imdbID}).indexOf(a);e[t]=Object(l.a)({},e[t],{Poster:y.a})}),t.imagesFailedToLoad=[],e},t.imageLoad=function(){t.imagesLoaded+=1,t.imagesLoaded>=t.imagesNeededToLoad&&t.setState({initioalLoadDone:!0,films:t.imagesFailedToLoadReplacer()})},t.imageLoadError=function(e,a){e.target.onerror=null,e.target.src=y.a,t.imagesFailedToLoad.push(a)},t.state={films:[],page:1,titleSortOrder:null,yearSortOrder:null,pageChangedNext:null,initioalLoadDone:!1},t.imagesNeededToLoad=0,t.imagesLoaded=0,t.imagesFailedToLoad=[],t}return Object(u.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;f.a.get("https://frantic.s3-eu-west-1.amazonaws.com/films.json").then(function(a){var t=a.data.films;e.setState({films:t})})}},{key:"render",value:function(){var e=this;return this.state.films.length>0?i.a.createElement("div",{className:"main"},i.a.createElement("img",{className:"headline-image",src:N.a,alt:"header"}),i.a.createElement("div",{className:"main2"},i.a.createElement("ul",{className:"sort-menu"},i.a.createElement("li",{className:"sort-menu-title"},"SORT:"),i.a.createElement("li",null,i.a.createElement("button",{className:null===this.state.titleSortOrder?"sort-button gray":"sort-button",onClick:function(){return e.sortTitle()}},i.a.createElement("div",{className:this.state.titleSortOrder?"":"arrow-up"}),i.a.createElement("div",{className:!0===this.state.titleSortOrder||null===this.state.titleSortOrder?"arrow-down":""}),"TITLE")),i.a.createElement("li",null,i.a.createElement("button",{className:null===this.state.yearSortOrder?"sort-button gray":"sort-button",onClick:function(){return e.sortYear()}},i.a.createElement("div",{className:this.state.yearSortOrder?"":"arrow-up"}),i.a.createElement("div",{className:!0===this.state.yearSortOrder||null===this.state.yearSortOrder?"arrow-down":""}),"YEAR"))),this.filmListsFunc(),i.a.createElement("div",{className:"bottom-menu"},i.a.createElement("button",{className:1===this.state.page?"previous-page hidden":"previous-page",onClick:function(){return e.previousPage()}},i.a.createElement("div",{className:"arrow-left"})," Previous page"),i.a.createElement("div",{className:"page-number"},this.state.page),i.a.createElement("button",{className:13===this.state.page?"next-page hidden":"next-page",onClick:function(){return e.nextPage()}},"Next page ",i.a.createElement("div",{className:"arrow-right"}))))):null}}]),a}(r.Component);s.a.render(i.a.createElement(F,null),document.getElementById("root"))}},[[20,2,1]]]);
//# sourceMappingURL=main.7433ffe5.chunk.js.map