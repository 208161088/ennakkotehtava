{"version":3,"sources":["no_image_available.webp","star_wars_header.webp","image_not_found.webp","components/Film.js","App.js","index.js"],"names":["module","exports","__webpack_require__","p","Film","_ref","classname","displayedFilms","_ref$imageLoad","imageLoad","imageLoadError","react_default","a","createElement","className","map","film","key","imdbID","src","Poster","no_image_available","onLoad","onError","e","alt","Title","Year","App","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","nextPage","setState","page","state","pageChangedNext","films","imagesFailedToLoadReplacer","previousPage","sortTitle","sortedFilms","titleSortOrder","sort","b","toLowerCase","yearSortOrder","sortYear","displayedFilmsFunc","slice","filmListsFunc","displayedFilmsNext","displayedFilmsPrev","onAnimationEnd","components_Film","initioalLoadDone","window","innerWidth","imagesNeededToLoad","imagesFailedToLoad","forEach","id","index","indexOf","objectSpread","image_not_found","imagesLoaded","target","onerror","push","_this2","axios","get","then","response","data","_this3","length","header","onClick","Component","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.7433ffe5.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/no_image_available.a5e94c7f.webp\";","module.exports = __webpack_public_path__ + \"static/media/star_wars_header.ee797453.webp\";","module.exports = __webpack_public_path__ + \"static/media/image_not_found.40ff87b1.webp\";","import React from 'react'\r\nimport no_image_available from '../no_image_available.webp'\r\n\r\n\r\nconst Film = ({classname, displayedFilms, imageLoad = ()=>null, imageLoadError }) => {\r\n  return(\r\n    <ul className={classname}>\r\n      {displayedFilms.map(film => \r\n        <li className='film' key={film.imdbID}>\r\n          <img\r\n          src={film.Poster==='N/A' ? no_image_available : film.Poster}\r\n          onLoad={() => imageLoad()}\r\n          onError={(e) => imageLoadError(e, film.imdbID)}\r\n          alt={film.Title}\r\n          />\r\n          <div className='film-year'>{film.Year}</div>\r\n          <div className='film-title'>{film.Title}</div>\r\n        </li>\r\n      )}\r\n    </ul>\r\n  )\r\n}\r\nexport default Film","import React, { Component } from 'react'\nimport './index.css'\nimport axios from 'axios'\nimport Film from './components/Film'\nimport header from './star_wars_header.webp'\nimport image_not_found from './image_not_found.webp'\n\n\nclass App extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      films: [],\n      page: 1,\n      titleSortOrder: null,\n      yearSortOrder: null,\n      pageChangedNext: null,\n      initioalLoadDone: false\n    }\n\n    this.imagesNeededToLoad = 0\n    this.imagesLoaded = 0\n    this.imagesFailedToLoad = []\n  }\n\n  componentDidMount() {\n    axios.get('https://frantic.s3-eu-west-1.amazonaws.com/films.json').then(response =>{\n      const films = response.data.films\n      this.setState({\n        films\n      })\n    })\n    \n  }\n\n  nextPage = () => {\n    this.setState({\n      page: this.state.page+1,\n      pageChangedNext: true,\n      films: this.imagesFailedToLoadReplacer()\n    })\n  }\n  previousPage = () => {\n    this.setState({\n      page: this.state.page-1,\n      pageChangedNext: false\n    })\n  }\n\n  sortTitle = () => {\n    const sortedFilms = this.state.films\n    if (this.state.titleSortOrder){\n      sortedFilms.sort((a, b) => a.Title.toLowerCase() > b.Title.toLowerCase() ? 1 : -1)\n    }else{\n      sortedFilms.sort((a, b) => a.Title.toLowerCase() < b.Title.toLowerCase() ? 1 : -1)\n    }\n    this.setState({\n      films: sortedFilms,\n      titleSortOrder: !this.state.titleSortOrder,\n      yearSortOrder: null,\n    })\n  }\n  sortYear = () => {\n    const sortedFilms = this.state.films\n    if (this.state.yearSortOrder){\n      sortedFilms.sort((a, b) => a.Year - b.Year)\n    }else{\n      sortedFilms.sort((a, b) => b.Year - a.Year)\n    }\n    this.setState({\n      films: sortedFilms,\n      yearSortOrder: !this.state.yearSortOrder,\n      titleSortOrder: null,\n    })\n  }\n\n\ndisplayedFilmsFunc = (a) => {\n  const filmsPerPage = 8\n  return this.state.films.slice((this.state.page+a)*filmsPerPage,(this.state.page+a)*filmsPerPage+filmsPerPage)\n}\n\n  filmListsFunc = () => {\n    const displayedFilms = this.displayedFilmsFunc(-1)\n    const displayedFilmsNext = this.displayedFilmsFunc(0)\n    const displayedFilmsPrev = this.displayedFilmsFunc(-2)\n    if (this.state.pageChangedNext === true) {\n      return (\n        <div className='film-lists next-animation' onAnimationEnd={() => this.setState({pageChangedNext: null})}>\n          <Film classname='film-list' displayedFilms={displayedFilmsPrev} imageLoadError={this.imageLoadError}/>\n          <Film classname='film-list' displayedFilms={displayedFilms} imageLoadError={this.imageLoadError}/>\n        </div>\n      )\n    }else if (this.state.pageChangedNext === false) {\n      return (\n        <div className='film-lists prev-animation' onAnimationEnd={() => this.setState({pageChangedNext: null})}>\n          <Film classname='film-list' displayedFilms={displayedFilms} imageLoadError={this.imageLoadError}/>\n          <Film classname='film-list' displayedFilms={displayedFilmsNext} imageLoadError={this.imageLoadError}/>\n        </div>\n      )\n    }else if (this.state.initioalLoadDone === true) {\n      return (\n        <div className='film-lists'>\n          <Film classname='film-list hidden' displayedFilms={displayedFilmsPrev} imageLoadError={this.imageLoadError}/>\n          <Film classname='film-list' displayedFilms={displayedFilms} imageLoadError={this.imageLoadError}/>\n          <Film classname='film-list hidden' displayedFilms={displayedFilmsNext} imageLoadError={this.imageLoadError}/>\n        </div>\n      )\n    }else if (window.innerWidth <= 768) {\n      this.imagesNeededToLoad = 1\n      return(\n        <div className='film-lists'>\n          <Film classname='film-list' displayedFilms={displayedFilms.slice(0,1)} imageLoad={this.imageLoad} imageLoadError={this.imageLoadError}/>\n        </div>\n        )\n    }else{\n      this.imagesNeededToLoad = 4\n      return(\n        <div className='film-lists'>\n          <Film classname='film-list' displayedFilms={displayedFilms} imageLoad={this.imageLoad} imageLoadError={this.imageLoadError}/>\n        </div>\n      )\n    }\n  }\n    \n  \n  imagesFailedToLoadReplacer = () => {\n    const films = this.state.films\n    this.imagesFailedToLoad.forEach(id => {\n      const index = films.map(film => film.imdbID).indexOf(id);\n      films[index]= {...films[index],Poster: image_not_found}\n    })\n    this.imagesFailedToLoad=[]\n    return films\n  }\n\n  imageLoad = () => {\n    this.imagesLoaded += 1\n    if (this.imagesLoaded >= this.imagesNeededToLoad) {\n      this.setState({initioalLoadDone: true, films: this.imagesFailedToLoadReplacer()})\n    }\n  }\n  \n  \n  imageLoadError = (e, id) => {\n    e.target.onerror = null\n    e.target.src = image_not_found\n    this.imagesFailedToLoad.push(id)\n    }\n\n  render() {\n    if (this.state.films.length > 0){\n      return (\n        <div className='main'>\n            <img\n            className='headline-image'\n            src={header}\n            alt={'header'}\n            />\n            {/*<div className='headline-text'>STAR WARS FILMS</div>*/}\n\n          <div className='main2'>\n            <ul className='sort-menu'>\n              <li className=\"sort-menu-title\">SORT:</li>\n              <li><button className={this.state.titleSortOrder===null?'sort-button gray':'sort-button'} onClick={() => this.sortTitle()}>\n              <div className={this.state.titleSortOrder ? '' : 'arrow-up'}/>\n              <div className={this.state.titleSortOrder === true || this.state.titleSortOrder === null ? 'arrow-down' : ''}/>\n              TITLE\n              </button></li>\n              <li><button className={this.state.yearSortOrder===null?'sort-button gray':'sort-button'} onClick={() => this.sortYear()}>\n              <div className={this.state.yearSortOrder ? '' : 'arrow-up'}/>\n              <div className={this.state.yearSortOrder === true || this.state.yearSortOrder === null? 'arrow-down' : ''}/>\n              YEAR\n              </button></li>\n            </ul>\n            {this.filmListsFunc()}\n\n            <div className = 'bottom-menu'>\n              <button\n              className={this.state.page === 1 ? 'previous-page hidden' : 'previous-page'}\n              onClick={() => this.previousPage()}>\n              <div className=\"arrow-left\"/> Previous page\n              </button>\n              <div className='page-number'>{this.state.page}</div>\n              <button\n              className={this.state.page === 13 ? 'next-page hidden' : 'next-page'}\n              onClick={() => this.nextPage()}>\n              Next page <div className=\"arrow-right\"/>\n              </button>\n            </div>\n          </div>\n        </div>\n      )\n    }else{\n      return null\n    }\n  }\n}\nexport default App;\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}