(window.webpackJsonpennakkotehtava=window.webpackJsonpennakkotehtava||[]).push([[0],{18:function(e,a,t){e.exports=t.p+"static/media/no_image_available.a5e94c7f.webp"},19:function(e,a,t){e.exports=t.p+"static/media/star_wars_header.ee797453.webp"},2:function(e,a,t){e.exports=t.p+"static/media/image_not_found.40ff87b1.webp"},22:function(e,a,t){e.exports=t(45)},27:function(e,a,t){},45:function(e,a,t){"use strict";t.r(a);var r=t(0),i=t.n(r),n=t(12),s=t.n(n),o=t(13),l=t(14),m=t(15),c=t(20),d=t(16),u=t(21),g=(t(27),t(17)),f=t.n(g),p=t(18),E=t.n(p),L=function(e){var a=e.classname,t=e.displayedFilms,r=e.imageLoad,n=void 0===r?function(){return null}:r,s=e.imageLoadError;return i.a.createElement("ul",{className:a},t.map((function(e){return i.a.createElement("li",{className:"film",key:e.imdbID},i.a.createElement("img",{src:"N/A"===e.Poster?E.a:e.Poster,onLoad:function(){return n()},onError:function(a){return s(a,e.imdbID)},alt:e.Title}),i.a.createElement("div",{className:"film-year"},e.Year),i.a.createElement("div",{className:"film-title"},e.Title))})))},h=t(19),v=t.n(h),y=t(2),O=t.n(y);function N(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,r)}return t}var b=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(c.a)(this,Object(d.a)(a).call(this,e))).nextPage=function(){t.setState({page:t.state.page+1,pageChangedNext:!0,films:t.imagesFailedToLoadReplacer()})},t.previousPage=function(){t.setState({page:t.state.page-1,pageChangedNext:!1})},t.sortTitle=function(){var e=t.state.films;t.state.titleSortOrder?e.sort((function(e,a){return e.Title.toLowerCase()>a.Title.toLowerCase()?1:-1})):e.sort((function(e,a){return e.Title.toLowerCase()<a.Title.toLowerCase()?1:-1})),t.setState({films:e,titleSortOrder:!t.state.titleSortOrder,yearSortOrder:null})},t.sortYear=function(){var e=t.state.films;t.state.yearSortOrder?e.sort((function(e,a){return e.Year-a.Year})):e.sort((function(e,a){return a.Year-e.Year})),t.setState({films:e,yearSortOrder:!t.state.yearSortOrder,titleSortOrder:null})},t.displayedFilmsFunc=function(e){return t.state.films.slice(8*(t.state.page+e),8*(t.state.page+e)+8)},t.filmListsFunc=function(){var e=t.displayedFilmsFunc(-1),a=t.displayedFilmsFunc(0),r=t.displayedFilmsFunc(-2);return!0===t.state.pageChangedNext?i.a.createElement("div",{className:"film-lists next-animation",onAnimationEnd:function(){return t.setState({pageChangedNext:null})}},i.a.createElement(L,{classname:"film-list",displayedFilms:r,imageLoadError:t.imageLoadError}),i.a.createElement(L,{classname:"film-list",displayedFilms:e,imageLoadError:t.imageLoadError})):!1===t.state.pageChangedNext?i.a.createElement("div",{className:"film-lists prev-animation",onAnimationEnd:function(){return t.setState({pageChangedNext:null})}},i.a.createElement(L,{classname:"film-list",displayedFilms:e,imageLoadError:t.imageLoadError}),i.a.createElement(L,{classname:"film-list",displayedFilms:a,imageLoadError:t.imageLoadError})):!0===t.state.initioalLoadDone?i.a.createElement("div",{className:"film-lists"},i.a.createElement(L,{classname:"film-list hidden",displayedFilms:r,imageLoadError:t.imageLoadError}),i.a.createElement(L,{classname:"film-list",displayedFilms:e,imageLoadError:t.imageLoadError}),i.a.createElement(L,{classname:"film-list hidden",displayedFilms:a,imageLoadError:t.imageLoadError})):window.innerWidth<=768?(t.imagesNeededToLoad=1,i.a.createElement("div",{className:"film-lists"},i.a.createElement(L,{classname:"film-list",displayedFilms:e.slice(0,1),imageLoad:t.imageLoad,imageLoadError:t.imageLoadError}))):(t.imagesNeededToLoad=4,i.a.createElement("div",{className:"film-lists"},i.a.createElement(L,{classname:"film-list",displayedFilms:e,imageLoad:t.imageLoad,imageLoadError:t.imageLoadError})))},t.imagesFailedToLoadReplacer=function(){var e=t.state.films;return t.imagesFailedToLoad.forEach((function(a){var t=e.map((function(e){return e.imdbID})).indexOf(a);e[t]=function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?N(t,!0).forEach((function(a){Object(o.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):N(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}({},e[t],{Poster:O.a})})),t.imagesFailedToLoad=[],e},t.imageLoad=function(){t.imagesLoaded+=1,t.imagesLoaded>=t.imagesNeededToLoad&&t.setState({initioalLoadDone:!0,films:t.imagesFailedToLoadReplacer()})},t.imageLoadError=function(e,a){e.target.onerror=null,e.target.src=O.a,t.imagesFailedToLoad.push(a)},t.state={films:[],page:1,titleSortOrder:null,yearSortOrder:null,pageChangedNext:null,initioalLoadDone:!1},t.imagesNeededToLoad=0,t.imagesLoaded=0,t.imagesFailedToLoad=[],t}return Object(u.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;f.a.get("https://frantic.s3-eu-west-1.amazonaws.com/films.json").then((function(a){var t=a.data.films;e.setState({films:t})}))}},{key:"render",value:function(){var e=this;return this.state.films.length>0?i.a.createElement("div",{className:"main"},i.a.createElement("img",{className:"headline-image",src:v.a,alt:"header"}),i.a.createElement("div",{className:"main2"},i.a.createElement("ul",{className:"sort-menu"},i.a.createElement("li",{className:"sort-menu-title"},"SORT:"),i.a.createElement("li",null,i.a.createElement("button",{className:null===this.state.titleSortOrder?"sort-button gray":"sort-button",onClick:function(){return e.sortTitle()}},i.a.createElement("div",{className:this.state.titleSortOrder?"":"arrow-up"}),i.a.createElement("div",{className:!0===this.state.titleSortOrder||null===this.state.titleSortOrder?"arrow-down":""}),"TITLE")),i.a.createElement("li",null,i.a.createElement("button",{className:null===this.state.yearSortOrder?"sort-button gray":"sort-button",onClick:function(){return e.sortYear()}},i.a.createElement("div",{className:this.state.yearSortOrder?"":"arrow-up"}),i.a.createElement("div",{className:!0===this.state.yearSortOrder||null===this.state.yearSortOrder?"arrow-down":""}),"YEAR"))),this.filmListsFunc(),i.a.createElement("div",{className:"bottom-menu"},i.a.createElement("button",{className:1===this.state.page?"previous-page hidden":"previous-page",onClick:function(){return e.previousPage()}},i.a.createElement("div",{className:"arrow-left"})," Previous page"),i.a.createElement("div",{className:"page-number"},this.state.page),i.a.createElement("button",{className:13===this.state.page?"next-page hidden":"next-page",onClick:function(){return e.nextPage()}},"Next page ",i.a.createElement("div",{className:"arrow-right"}))))):null}}]),a}(r.Component);s.a.render(i.a.createElement(b,null),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.2834e894.chunk.js.map